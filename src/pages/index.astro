---
import Layout from "../layouts/Layout.astro";
import GameWindow from "../components/GameWindow.astro";
import Locations from "../components/Locations.astro";
import Settings from "../components/Settings.astro";
import Rules from "../components/Rules.astro";
import Footer from "../components/Footer.md";
import Error from "../components/Error.astro";

import "../styles/style.scss";
---

<Layout title="Offline Spyfall">
  <nav>
    <span>📵🕵️ Offline Spyfall</span>
    <a href="https://games.verybadfrags.com" target="_blank">🎮 More games</a>
  </nav>

  <main>
    <Error />

    <div class="flex">
      <GameWindow />

      <Locations />

      <Settings />
    </div>

    <div class="flex">
      <Rules />
    </div>
  </main>

  <Footer />

  <script>
    import { startGame } from "../scripts/gameController";

    document
      .getElementById("start-form")!
      .addEventListener("submit", (event) => {
        event.preventDefault();
        startGame();
      });
  </script>
</Layout>

<style is:global>
  nav {
    align-items: center;
    box-shadow: 0 1px 3px #0000004d;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    padding: 8px 16px;
    position: relative;

    background-color: #1a237e;
    color: #e5dc81;
  }
  nav > span {
    padding: 5px 0;
    font-size: 1.25rem;
    text-shadow: 2px 2px 1px rgba(0, 0, 0, 0.3);
  }
  nav > a {
    color: #f44e03;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
  }
  nav > a:hover {
    color: #bd4802;
  }

  main {
    margin: 8px;
    padding-bottom: 5rem;
  }
</style>
