<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CC3FMY0TXQ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-CC3FMY0TXQ');
    </script>

    <meta charset="UTF-8">
    <meta name="description"
        content="Play Spyfall anywhere with your friends, even without an internet connection. Offline Spy is a free social deduction multiplayer game.">
    <meta name="keywords" content="Social deduction, Spy game, Open source, Offline">
    <meta name="author" content="VeryBadFrags">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />

    <title>Offline Spyfall</title>

    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ•µï¸</text></svg>">

    <link rel="stylesheet" type="text/css" href="style.css">
    <script src=constants.js></script>
</head>

<body>

    <h1>Offline Spyfall</h1>

    <div id="error" class="card alert" style="display: none;"></div>

    <div class="flex">
        <!-- Game Window -->
        <div id="gameWindow" class="card" style="display: none;">
            <div>
                Game Fingerprint <span id="fingerprint" class="large"></span>
            </div>
            <br>
            <div>
                <strong id="playerid"></strong>
            </div>
            <br>
            <div>
                ğŸ” First question: <span id="firstPlayer"></span>
            </div>
            <br>
            <div id="timer"></div>
            <div>
                <button class="btn btn-outline" onclick="showHide('secretBlock');">ğŸ‘“ Show/Hide</button>
            </div>
            <div id="secretBlock" class="secret-card">
                <div id="spyBlock">
                    You <strong>are</strong> the spy ğŸ•µ
                </div>
                <div id="innocentBlock">
                    You are <strong>not</strong> the spy ğŸ˜‡
                </div>
                <div>
                    Location: <strong id="location"></strong>
                </div>
            </div>
        </div>

        <!-- List of Locations -->
        <div class="card">
            <h3 class="card-title">Locations</h3>
            <ul id="locationsList" class="list">
            </ul>
        </div>

        <!-- Game Settings -->
        <div id="settings" class="card">
            <div>
                <h3 class="card-title">âš™ï¸ Game Settings</h3>
            </div>
            <div>
                <label for="player">ğŸ‘¤ Avatar (must be unique)</label>
                <div class="custom-select">
                    <select name="player" id="player" class="form-control"></select>
                </div>
            </div>
            <div>
                <label for="seed">ğŸ² Code</label>
                <input type="text" id="seed" class="form-control" name="code" value="ABCD" pattern="[A-Za-z0-9]{4}" title="4 Characters Code"
                    maxlength="4" autocomplete="off">
            </div>
            <div>
                <label for="iteration">ğŸ”¢ Round</label>
                <input type="number" id="iteration" class="form-control" name="round" value="1" min="1" autocomplete="off">
            </div>
            <div>
                <label for="total-players">ğŸ‘¥ Total players</label>
                <input type="number" id="total-players" class="form-control" name="totalPlayers" value="3" min="3"
                    oninput="setPlayersList();" autocomplete="off">
            </div>
            <button id="startButton" class="btn btn-primary" onclick="startGame();">ğŸ Start New Game</button>
        </div>

    </div>
    <div class="flex">

        <!-- Rules -->
        <div class="card">
            <h3 class="card-title">ğŸ“– Rules</h3>
            <button class="btn btn-outline" onclick="showHide('instructions');">ğŸ‘“ Show/Hide</button>
            <div id="instructions" style="display: none;">
                <div>
                    <ul>
                        <li>ğŸ‘¥ 3-10 Players</li>
                        <li>â± 5 Minutes Rounds</li>
                        <li>ğŸ“± 1 Device per player</li>
                    </ul>
                </div>
                <div>
                    <strong>Setup</strong>
                    <ul>
                        <li>Players must input the same ğŸ²&nbsp;Game Code, ğŸ”¢&nbsp;Round Number, and ğŸ‘¥&nbsp;Total
                            players count</li>
                        <li>Players must pick a <strong>unique</strong> ğŸ‘¤&nbsp;Avatar</li>
                        <li>When the game starts, players must confirm that they have the same Night Fingerprint (the game
                            is void otherwise)</li>
                    </ul>
                </div>
                <div>
                    <strong>During the game</strong>
                    <ul>
                        <li>All players are in the same location</li>
                        <li>The spy has to guess the current location</li>
                        <li>The other players have to guess who the spy is</li>
                        <li>The first player picks another person and asks them a question about the location (Do people
                            wear a uniform? Is there a specific color in this place? ...)</li>
                        <li>The player who just answered the question asks the next question to another person</li>
                    </ul>
                </div>
                <div>
                    <strong>When the timer ends</strong>
                    <ul>
                        <li>Players vote to designate the spy
                            <ul>
                                <li>If the players have voted for the spy, the spy has one chance to guess the location
                                    and
                                    win the game
                                </li>
                                <li>If the players have voted for an innocent, the spy wins</li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <div>
                    <strong>At any time</strong>
                    <ul>
                        <li>The players can vote for a spy if they have a majority</li>
                        <li>The spy can guess the location. The spy wins the game if he guessed correctly, or loses
                            otherwise
                        </li>
                    </ul>
                </div>
            </div>
        </div>

    </div>

    <hr>

    <div class="footer">
        <div>Download this page and play anywhere!</div>
        <br>
        <div>
            <img src="qr.png" class="qrcode" alt="https://spy.verybadfrags.com">
        </div>
        <br>
        <div>Suggestions, Feedback? <a
                href="mailto:spy@verybadfrags.com?subject=Offline Spy Feedback">spy@verybadfrags.com</a></div>
        <br>
        <div><a href="https://github.com/VeryBadFrags/offline-spy" target="_blank" rel="noopener noreferrer">Source
                code on GitHub</a></div>
        <br>
        <div><a href="https://www.buymeacoffee.com/verybadfrags" target="_blank" rel="noopener noreferrer">Like this
                game?</a>
        </div>
        <br>
        <div><a href="https://wolf.verybadfrags.com" target="_blank">Play ğŸº Offline Werewolf</a></div>
        <br>
        <div>Version: 1.0.2</div>
        <br>
        <div class="small">
            Spyfall is a game designed by Alexandr Ushan and published by <a
                href="https://hwint.ru/portfolio-item/spyfall/" target="_blank" rel="noopener noreferrer">Hobby
                World</a>. This project is not affiliated with Alexandr Ushan or Hobby World.
        </div>
    </div>

    <script src=footer.js></script>
</body>

</html>
